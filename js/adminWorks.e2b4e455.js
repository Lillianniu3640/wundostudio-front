(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["adminWorks"],{"400b":function(A,e,t){},"99af":function(A,e,t){"use strict";var r=t("23e7"),o=t("d039"),n=t("e8b5"),a=t("861d"),s=t("7b0b"),i=t("50c4"),l=t("8418"),c=t("65f0"),u=t("1dde"),f=t("b622"),d=t("2d00"),m=f("isConcatSpreadable"),p=9007199254740991,b="Maximum allowed index exceeded",h=d>=51||!o((function(){var A=[];return A[m]=!1,A.concat()[0]!==A})),k=u("concat"),v=function(A){if(!a(A))return!1;var e=A[m];return void 0!==e?!!e:n(A)},g=!h||!k;r({target:"Array",proto:!0,forced:g},{concat:function(A){var e,t,r,o,n,a=s(this),u=c(a,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(n=-1===e?a:arguments[e],v(n)){if(o=i(n.length),f+o>p)throw TypeError(b);for(t=0;t<o;t++,f++)t in n&&l(u,f,n[t])}else{if(f>=p)throw TypeError(b);l(u,f++,n)}return u.length=f,u}})},a434:function(A,e,t){"use strict";var r=t("23e7"),o=t("23cb"),n=t("a691"),a=t("50c4"),s=t("7b0b"),i=t("65f0"),l=t("8418"),c=t("1dde"),u=c("splice"),f=Math.max,d=Math.min,m=9007199254740991,p="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!u},{splice:function(A,e){var t,r,c,u,b,h,k=s(this),v=a(k.length),g=o(A,v),w=arguments.length;if(0===w?t=r=0:1===w?(t=0,r=v-g):(t=w-2,r=d(f(n(e),0),v-g)),v+t-r>m)throw TypeError(p);for(c=i(k,r),u=0;u<r;u++)b=g+u,b in k&&l(c,u,k[b]);if(c.length=r,t<r){for(u=g;u<v-r;u++)b=u+r,h=u+t,b in k?k[h]=k[b]:delete k[h];for(u=v;u>v-r+t;u--)delete k[u-1]}else if(t>r)for(u=v-r;u>g;u--)b=u+r-1,h=u+t-1,b in k?k[h]=k[b]:delete k[h];for(u=0;u<t;u++)k[u+g]=arguments[u+2];return k.length=v-r+t,c}})},b0c0:function(A,e,t){var r=t("83ab"),o=t("9bf2").f,n=Function.prototype,a=n.toString,s=/^\s*function ([^ (]*)/,i="name";r&&!(i in n)&&o(n,i,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(A){return""}}})},c387:function(A,e,t){"use strict";t("400b")},d5ad:function(A,e,t){"use strict";t.r(e);var r=function(){var A=this,e=A.$createElement,r=A._self._c||e;return r("b-container",{attrs:{id:"adminworks"}},[r("b-row",[r("b-col",{attrs:{cols:"12"}},[r("h4",{staticClass:"text-center"},[A._v("作品管理")])]),r("b-col",{attrs:{cols:"12"}},[r("b-img",{staticStyle:{width:"100%"},attrs:{src:t("fe82")}})],1),r("b-col",{attrs:{cols:"10"}}),r("b-col",{attrs:{cols:"2"}},[r("b-btn",{attrs:{variant:"dark"},on:{click:function(e){return A.$bvModal.show("modal-work")}}},[A._v("Add New")]),r("b-modal",{attrs:{id:"modal-work",title:A.form._id.length>0?"編輯作品":"新增作品","ok-variant":"warning","ok-title":"OK","cancel-variant":"secondary","cancel-title":"Cancel"},on:{ok:A.submitModal,hidden:A.resetForm}},[r("b-form-group",{attrs:{label:"作品名:","label-for":"input-name",state:A.state.name,description:"","invalid-feedback":"格式不正確"}},[r("b-form-input",{attrs:{id:"input-name",type:"text",required:"",placeholder:"請輸入名稱",state:A.state.name,autocomplete:"off"},model:{value:A.form.name,callback:function(e){A.$set(A.form,"name",e)},expression:"form.name"}})],1),r("b-form-group",{attrs:{label:"作品類型:","label-for":"input-subject"}},[r("b-form-input",{attrs:{id:"input-subject",type:"text",placeholder:"請輸入類型",autocomplete:"off"},model:{value:A.form.subject,callback:function(e){A.$set(A.form,"subject",e)},expression:"form.subject"}})],1),r("b-form-group",{attrs:{label:"描述:","label-for":"input-description"}},[r("b-form-textarea",{attrs:{id:"input-description",type:"text",placeholder:"請輸入說明文字"},model:{value:A.form.description,callback:function(e){A.$set(A.form,"description",e)},expression:"form.description"}})],1),r("b-form-group",{attrs:{label:"顯示","label-for":"input-sell"}},[r("b-form-radio",{attrs:{value:!0},model:{value:A.form.sell,callback:function(e){A.$set(A.form,"sell",e)},expression:"form.sell"}},[A._v("顯示")]),r("b-form-radio",{attrs:{value:!1},model:{value:A.form.sell,callback:function(e){A.$set(A.form,"sell",e)},expression:"form.sell"}},[A._v("不顯示")])],1),r("img-inputer",{attrs:{theme:"dark",size:"large",placeholder:"點擊或拖曳選擇圖片","bottom-text":"點擊或拖曳以修改"},model:{value:A.form.image,callback:function(e){A.$set(A.form,"image",e)},expression:"form.image"}})],1)],1),r("b-col",{staticClass:"mt-5 ml-4",attrs:{cols:"12"}},[r("b-table",{ref:"workTable",attrs:{items:A.works,fields:A.fields},scopedSlots:A._u([{key:"cell(image)",fn:function(e){return[e.item?r("img",{staticStyle:{height:"50px"},attrs:{src:e.item.image}}):A._e()]}},{key:"cell(sell)",fn:function(e){return[A._v(A._s(e.item.sell?"v":"x"))]}},{key:"cell(action)",fn:function(e){return[r("b-btn",{staticClass:"mr-2",attrs:{variant:"faded"},on:{click:function(t){return A.editWork(e.index)}}},[r("font-awesome-icon",{attrs:{icon:["fas","pen-nib"]}})],1),r("b-btn",{attrs:{variant:"faded"},on:{click:function(t){return A.deleteWork(e.index)}}},[r("font-awesome-icon",{attrs:{icon:["fas","trash"]}})],1)]}}])})],1)],1)],1)},o=[],n=t("1da1"),a=(t("96cf"),t("b0c0"),t("a4d3"),t("e01a"),t("a434"),t("99af"),t("d81d"),{data:function(){return{works:[],fields:[{key:"image",label:"圖片"},{key:"name",label:"作品名"},{key:"subject",label:"類別"},{key:"description",label:"描述"},{key:"sell",label:"顯示"},{key:"action",label:"操作"}],selected:[],options:["Illustrator","Photoshop","Premiere","Figma","Html","Css","Sass","Vue.js","Bootstrap","jQuery"],form:{name:"",subject:"",tools:"",description:"",sell:!0,image:null,_id:""}}},computed:{state:function(){return{name:0!==this.form.name.length||null}}},methods:{editWork:function(A){this.form={name:this.works[A].name,subject:this.works[A].subject,tools:this.works[A].tools,description:this.works[A].description,sell:this.works[A].sell,image:this.works[A].image,_id:this.works[A]._id,index:A},this.$bvModal.show("modal-work")},resetForm:function(){this.form={name:"",subject:"",tools:"",description:"",sell:!0,image:null,_id:""}},deleteWork:function(A){this.works.splice(A,1)},submitModal:function(){var A=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r in e.prev=0,t=new FormData,A.form)t.append(r,A.form[r]);if(0!==A.form._id.length){e.next=8;break}return e.next=6,A.axios.post("/works",t,{headers:{authorization:"Bearer "+A.$store.state.jwt.token}});case 6:e.next=14;break;case 8:return e.next=10,A.axios.patch("/works/"+A.form._id,t,{headers:{authorization:"Bearer "+A.$store.state.jwt.token}});case 10:o=e.sent,n=o.data,A.works[A.form.index]={name:A.form.name,subject:A.form.subject,tools:A.form.tools,description:A.form.description,sell:A.form.sell,image:"".concat("https://wundo-studio.herokuapp.com","/files/").concat(n.result.image),_id:A.form._id},A.$refs.workTable.refresh();case 14:A.$bvModal.hide("modal-work"),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),A.$swal({icon:"error",title:"Wrong",text:e.t0.response.data.message});case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))()}},mounted:function(){var A=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.axios.get("/works");case 3:t=e.sent,r=t.data,A.works=r.result.map((function(A){return A.image="".concat("https://wundo-studio.herokuapp.com","/files/").concat(A.image),A})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),A.$swal({icon:"error",title:"Wrong",text:"取得作品失敗"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}),s=a,i=(t("c387"),t("2877")),l=Object(i["a"])(s,r,o,!1,null,"0cb6a52f",null);e["default"]=l.exports},d81d:function(A,e,t){"use strict";var r=t("23e7"),o=t("b727").map,n=t("1dde"),a=n("map");r({target:"Array",proto:!0,forced:!a},{map:function(A){return o(this,A,arguments.length>1?arguments[1]:void 0)}})},e01a:function(A,e,t){"use strict";var r=t("23e7"),o=t("83ab"),n=t("da84"),a=t("5135"),s=t("861d"),i=t("9bf2").f,l=t("e893"),c=n.Symbol;if(o&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var u={},f=function(){var A=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new c(A):void 0===A?c():c(A);return""===A&&(u[e]=!0),e};l(f,c);var d=f.prototype=c.prototype;d.constructor=f;var m=d.toString,p="Symbol(test)"==String(c("test")),b=/^Symbol\((.*)\)[^)]+$/;i(d,"description",{configurable:!0,get:function(){var A=s(this)?this.valueOf():this,e=m.call(A);if(a(u,A))return"";var t=p?e.slice(7,-1):e.replace(b,"$1");return""===t?void 0:t}}),r({global:!0,forced:!0},{Symbol:f})}},fe82:function(A,e){A.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAADE4AAAAcCAYAAADF9hsmAAAACXBIWXMAAAsSAAALEgHS3X78AAACvklEQVR4nO3dy03DQBQF0EnEnnSAO4AOYA+iBkqhJsveQwehg9ABHRhFslEWASlkxp+XcyRvR/OxR44nV2/VdV0CAAAAAAAAAAAAAACIaG1VAQAAAAAAAAAAAACAqAQnAAAAAAAAAAAAAACAsAQnAAAAAAAAAAAAAACAsAQnAAAAAAAAAAAAAACAsAQnAAAAAAAAAAAAAACAsAQnAAAAAAAAAAAAAACAsAQnAAAAAAAAAAAAAACAsAQnAAAAAAAAAAAAAACAsAQnAAAAAAAAAAAAAACAsAQnAAAAAAAAAAAAAACAsAQnAAAAAAAAAAAAAACAsAQnAAAAAAAAAAAAAACAsAQnAAAAAAAAAAAAAACAsK5KD6xp64cCzZZoE4jnUveKr5TSdgb9AABgue5SShvrV8RbwDGVtOnvR+blkn932h8BAAAATrf/pnJt3s72nqmd/fet2wnHkUOuucitSindFGj3o/8uu1TbAv0v8b+wUus3hTncMzn3/inG40xvPFV/zU2JvSvC/I/5bAxnkrunx+ddjgZXXded1UDT1tXBpA0TNxxq3+foJAAAAAAAAAAAAAAAEMY+DPl6ZDDZwhKH/hWcaNr6sIMvgVJ2AAAAAAAAAAAAAADAuD77KhM/V84AxdkVJ37TtHWJUkhK4S/PXEvowFINpYdy8pweV2KuAQCY3lAlk+l41waAfKY4NxmzFDsAAAAAAPO2669TFakq8ZdiwQkAAAAAAAAAAAAAAICpra0AAAAAAAAAAAAAAAAQleAEAAAAAAAAAAAAAAAQluAEAAAAAAAAAAAAAAAQluAEAAAAAAAAAAAAAAAQluAEAAAAAAAAAAAAAAAQluAEAAAAAAAAAAAAAAAQluAEAAAAAAAAAAAAAAAQluAEAAAAAAAAAAAAAAAQluAEAAAAAAAAAAAAAAAQU0rpGw9wRyeQUlvWAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=adminWorks.e2b4e455.js.map